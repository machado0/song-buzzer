<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gapgle</title>
    <script src="https://song-buzzer.onrender.com/socket.io/socket.io.js"></script> 
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <button id="generate-word-btn">Gerar palavra</button>
    <p id="random-word-display"></p>
    <div id="name-container">
        <input type="text" id="playerName" placeholder="Digite seu nome">
        <button id="joinButton">Join</button>
    </div>
    <div id="game-container">
        <button id="pressButton">EU SEI!</button>
        <p id="winner"></p>
    </div>
    <h2>Jogadores:</h2>
    <ul id="playerList">
    </ul>

    <script>
        const socket = io("https://song-buzzer.onrender.com"); 
        //const socket = io("http://localhost:3000"); 
        let playerName = "";

        const playerList = document.getElementById('playerList');

        socket.on('updatePlayerList', (players) => {
            playerList.innerHTML = ''; 
            players.forEach(player => {
                const li = document.createElement('li');
                li.textContent = player;  
                playerList.appendChild(li);
            });
        });

        document.getElementById("joinButton").addEventListener("click", function() {
            playerName = document.getElementById("playerName").value.trim();
            if (!playerName) {
                alert("Digite seu nome!");
                return;
            }
            console.log("Joining game with name:", playerName); 
            socket.emit("setName", playerName);
            document.getElementById("name-container").style.display = "none";
            document.getElementById("game-container").style.display = "block";
            if (playerName) {
                socket.emit('setName', playerName);
            }
        });

        const randomWords = [
            "Love", "Heart", "Dream", "Night", "Fire", "Shine", "Touch", "Tears", "Fear", "Freedom", 
            "Soul", "Angels", "Dancing", "Light", "Hope", "Strength", "Alive", "Grace", "Whisper", 
            "Storm", "Tomorrow", "Sweet", "Rise", "Horizon", "Whisper", "Chasing", "Fate", "Embrace", 
            "Wings", "Hurt", "Pain", "Faith", "Lonely", "Heaven", "Glimmer", "Tides", "Bliss", 
            "Journey", "Voice", "Echo", "Touch", "Lover", "Stranger", "Smile", "Run", "Crush", 
            "Wild", "Courage", "Reflection", "Star", "Moonlight", "Chained", "Unfold", "Glow", 
            "Shadow", "Bound", "Scream", "Fading", "Whirlwind", "Mystery", "Desire", "Tidal", 
            "Destruction", "Survive", "Dreamer", "Lost", "Truth", "Rise", "Prison", "Regret", 
            "Shattered", "Violet", "Shine", "Stars", "Firework", "Golden", "Hollow", "Wander", 
            "Storm", "Revelation", "Pain", "Surrender", "Guilt", "Highway", "Bitter", "Rush", 
            "Crave", "On Fire", "Whispers", "Addicted", "Nocturnal", "Shattered", "Blaze", 
            "Lullaby", "Eclipse", "Runaway", "Electric", "Dreams", "Undercover", "Healing", 
            "Starlight", "Free", "Echoes", "Gravity", "Desire", "Toxic", "Flicker", "Rhythm", 
            "Unbreakable", "Voices", "Shivers", "Thunder", "Melt", "Gaze", "Prisoner", "Wildfire", 
            "Addiction", "Fall", "Surrender", "Breathe", "Chasing", "Mourn", "Magic", "Famous", 
            "Wicked", "Reflection", "Crash", "Falling", "Unstoppable", "Bleeding", "Moment", 
            "Whirl", "Sound", "Undone", "Rise", "Alive", "Skyfall", "Higher", "Fate", "Guilt", 
            "Madness", "Whispered", "Unravel", "Lost", "Pursuit", "Crimson", "Adore", "Rise", 
            "Tear", "Panic", "Starship", "Fly", "Gold", "Twist", "Rewind", "Scream", "Poison", 
            "Bleed", "Endless", "Destruction", "Voices", "Shattered", "Heavenly", "Instinct", 
            "Together", "Hands", "Frozen", "Flame", "Chase", "Phoenix", "Delight", "Supernova", 
            "Reckless", "Haven", "Illusion", "Loyalty", "Power", "Raven", "Mercy", "Twilight", 
            "Dreamscape", "Fallen", "Nightmare", "Scream", "Tidal", "Sunset", "Stranger", "Blinding", 
            "Soulmate", "Fever", "Glorious", "Timeless", "Memories", "Vibration", "Creeping", 
            "Escape", "Poisoned", "Dare", "Vivid", "Restless", "Fallout", "Escape", "Roar", "Sweet", 
            "Chasing", "Tempest", "Euphoria", "Sick", "Lover", "Shattered", "Runaway", "Fix", 
            "Regret", "Angels", "High", "Tearful", "Firefly", "Lover", "Grave", "Cloud", "Infatuation", 
            "Haze", "Sick", "Unholy", "Wanderer", "Lost", "Bleeding", "Endless", "Graveyard", "Dare", 
            "Eternal", "Raging", "Pulse", "Waves", "Fall", "Luminous", "Revival", "Electric", 
            "Shattered", "Vow", "Nightfall", "Glimpse", "Lurking", "Escaping", "Flames", "Whispers", 
            "Livid", "Flicker", "Alone", "Truth", "Shivers", "Alive", "Pulse", "Destruction", "Stolen", 
            "Blaze", "Frenzy", "Pray", "Melancholy", "Faith", "Thief", "Echoing", "Steal", "Screaming", 
            "Illusion", "Ravishing", "Unravel", "Bright", "Unfold", "Tremor", "Twisted", "Hunt", 
            "Candle", "Fleeting", "Haunting", "Bleak", "Fireworks", "Rush", "Chill", "Spin", 
            "Desire", "Reckless", "Wings", "Falling", "Grace", "Puzzle", "Chasing", "Caught", "Feeding", 
            "Whispers", "Moonbeam", "Chasing", "Rebel", "Believer", "Riding", "Wake", "Solace", 
            "Timeless", "Gravity", "Bliss", "Fury", "Hunger", "Wandering", "Tremble", "Boundless", 
            "Revive", "Shooting", "Hidden", "Worship", "Lament", "Forget", "Voice", "Unleashed", 
            "Fury", "Voices", "On Fire", "Revolt", "Running", "Hollow", "Touched", "Sparks", 
            "Waves", "Glare", "Awake", "Sacred", "Fire", "Inhale", "Desperate", "Liberation", 
            "Glimpse", "Echoes", "Ambush", "Blinding", "Vibration", "Victory", "Rising", "Darkness"
        ];

        const generateWordButton = document.getElementById("generate-word-btn");
        const randomWordDisplay = document.getElementById("random-word-display");

        generateWordButton.addEventListener("click", () => {
            const randomIndex = Math.floor(Math.random() * randomWords.length);
            
            const randomWord = randomWords[randomIndex];
            randomWordDisplay.textContent = `Palavra: ${randomWord}`;
        });
        
        document.getElementById("pressButton").addEventListener("click", () => {
            const pressButton = document.getElementById("pressButton");
            pressButton.disabled = true;
            pressButton.style.backgroundColor = "#ddd"; 
            
            console.log("Button pressed by:", playerName); 
            socket.emit("pressButton");

            setTimeout(() => {
                pressButton.disabled = false;
                pressButton.style.backgroundColor = "rgba(0, 0, 0, 0.7)"; 
        });
    });

        socket.on("winnerDeclared", (winner) => {
            document.getElementById("winner").textContent = `${winner} apertou o botÃ£o!`;
        });

        socket.on("resetGame", () => {
            document.getElementById("winner").textContent = "";
        });
    </script>
</body>
</html>
